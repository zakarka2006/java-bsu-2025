# Lab 2 Типа-банк

## Описание
Ну типа банк, который имеет следующий функционал:
- **Управление пользователями**: Создание и просмотр пользователей.
- **Управление счетами**: Создание и просмотр счетов для пользователей.
- **Транзакции**: Выполнение операций пополнения, снятия, перевода и заморозки.
- **Асинхронность**: Транзакции обрабатываются асинхронно с использованием пула потоков.
- **Хранение данных**: Данные хранятся в базе данных H2.

## Использованные паттерны проектирования
- **Singleton**: `TransactionManager`, `DatabaseConnection`.
- **Factory**: `TransactionFactory`.
- **Strategy**: `DepositStrategy`, `WithdrawStrategy`, `TransferStrategy`, `FreezeStrategy`.
- **Command**: `TransactionCommand`.
- **Observer**: `TransactionPanel` наблюдает за `TransactionManager`.
- **Visitor**: `TotalVolumeVisitor` (реализован для примера).

## Вопросы и Ответы

### 1. UUID 
UUID (Universally Unique Identifier) — это 128-битный идентификатор, используемый в компьютерных системах. Он генерируется по стандартным алгоритмам и является практически уникальным, что позволяет использовать его для идентификации объектов без единого центра выдачи. копипаст ееееее

### 2. UUID Транзакции
У каждой транзакции есть свой UUID. Это уникальный идентификатор конкретного экземпляра транзакции. Он позволяет отслеживать, проводить аудит и ссылаться на транзакцию уникальным образом во всей системе.

### 3. Архитектура
Предложенная архитектура (User -> Account -> Transaction) является стандартной моделью для простого банковского приложения.
Но ещё можно прикрутить следующие фичи:
- **Event Sourcing:** Для хранения всех транзакций, выполненных пользователями.
- **Microservices:** Разделить управление пользователями, счетами и обработку транзакций на разные сервисы, а не в монолит всё пихать.
- **CQRS:** Разделить модели чтения и записи для лучшей производительности.

### 4. Принципы SOLID
- **Single Responsibility Principle:** Каждый класс имеет одну цель (например, `User` хранит данные, `Repository` работает с БД).
- **Open/Closed Principle:** Новые типы транзакций можно добавлять, создавая новые стратегии, не изменяя существующий код.
- **Liskov Substitution Principle:** Реализации `TransactionStrategy` могут использоваться взаимозаменяемо.
- **Interface Segregation Principle:** Интерфейс `Repository` определяет конкретные контракты.
- **Dependency Inversion Principle:** Высокоуровневые модули (`TransactionManager`) зависят от абстракций (интерфейс `Repository`), а не от конкретных реализаций.

### 5. Асинхронность
Java предоставляет пакет `java.util.concurrent` (ExecutorService, Future, Locks). В этом проекте используется `ExecutorService` для асинхронного выполнения и блоки `synchronized` (или `ReentrantLock`) для обеспечения атомарности операций со счетами. **Паттерн Command** инкапсулирует логику транзакции, что позволяет легко передавать её исполнителю.

## Launch
1.  `mvn clean install`.
2.  `mvn clean compile exec:java -Dexec.mainClass=com.lab2.ui.MainFrame`.


## Что тут тыкать
1.  Запусти приложение, появится UIка с тремя панелями: Пользователи, Счета, Транзакции.
2.  **Создание пользователя**:
    *   В левой панели "Users" введи имя пользователя и нажми **Add User**.
    *   Пользователь появится в списке. Крч тыкаешь на него, чтобы выбрать его.
3.  **Создание счета**:
    *   После выбора пользователя, в средней панели "Accounts" нажми **Create Account**.
    *   Появится новый счет, тоже тыкай на него, чтобы выбрать.
4.  **Выполнение транзакций**:
    *   Потом ты можешь делать ***всякое*** с этим аккаунтом.
    *   В правой панели "Transactions" выбери тип операции.
    *   Введи сумму для пополнения.
    *   Потом тыкай **Execute**.
    *   Баланс счета обновится в списке автоматически
    *   Транзакция появится в таблице истории.
5.  **Другие операции**:
    *   **DEPOSIT**: Пополнение счета.
    *   **WITHDRAW**: Снятие денег.
    *   **TRANSFER**: Перевод. Для этого нужно создать второго пользователя и счет, скопировать ID целевого счета и вставить в поле "Target Account ID".
    *   **FREEZE**: Заморозка счета.
    *   **UNFREEZE**: Разморозка счета.